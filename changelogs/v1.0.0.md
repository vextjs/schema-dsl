# v1.0.0 å˜æ›´æ—¥å¿—

> **å‘å¸ƒæ—¥æœŸ**: 2025-12-29  
> **ç‰ˆæœ¬å·**: v1.0.0  
> **ç±»å‹**: ğŸ‰ æ­£å¼å‘å¸ƒ

---

## ğŸ“‹ å˜æ›´æ¦‚è§ˆ

è¿™æ˜¯ schema-dsl çš„é¦–ä¸ªæ­£å¼å‘å¸ƒç‰ˆæœ¬ï¼Œæ ‡å¿—ç€é¡¹ç›®è¾¾åˆ°ç”Ÿäº§å°±ç»ªçŠ¶æ€ã€‚

| é‡Œç¨‹ç¢‘ | çŠ¶æ€ |
|--------|------|
| æ ¸å¿ƒåŠŸèƒ½å®Œå–„ | âœ… |
| æµ‹è¯•è¦†ç›–å……åˆ† | âœ… |
| æ–‡æ¡£å®Œæ•´ | âœ… |
| npm å‘å¸ƒ | âœ… |
| ç”Ÿäº§å°±ç»ª | âœ… |

---

## ğŸ‰ æ ¸å¿ƒç‰¹æ€§

### 1. æç®€ DSL è¯­æ³•

**ä¸€è¡Œä»£ç å®šä¹‰éªŒè¯è§„åˆ™ï¼Œä»£ç é‡å‡å°‘ 65%**

```javascript
const { dsl } = require('schema-dsl');

// âœ… ç®€æ´çš„ DSL è¯­æ³•
const schema = dsl({
  username: 'string:3-32!',
  email: 'email!',
  age: 'number:18-120',
  tags: 'array<string>'
});

// âŒ å¯¹æ¯” Joiï¼ˆéœ€è¦ 8 è¡Œï¼‰
const Joi = require('joi');
const joiSchema = Joi.object({
  username: Joi.string().min(3).max(32).required(),
  email: Joi.string().email().required(),
  age: Joi.number().min(18).max(120),
  tags: Joi.array().items(Joi.string())
});
```

---

### 2. å®Œæ•´çš„éªŒè¯åŠŸèƒ½

#### åŸºç¡€ç±»å‹

- âœ… `string` - å­—ç¬¦ä¸²éªŒè¯
- âœ… `number` - æ•°å­—éªŒè¯
- âœ… `integer` - æ•´æ•°éªŒè¯
- âœ… `boolean` - å¸ƒå°”å€¼éªŒè¯
- âœ… `date` / `datetime` - æ—¥æœŸæ—¶é—´éªŒè¯
- âœ… `email` - é‚®ç®±éªŒè¯
- âœ… `url` - URLéªŒè¯
- âœ… `phone` - æ‰‹æœºå·éªŒè¯
- âœ… `idCard` - èº«ä»½è¯éªŒè¯

#### é«˜çº§åŠŸèƒ½

- âœ… **åµŒå¥—å¯¹è±¡éªŒè¯**
- âœ… **æ•°ç»„éªŒè¯**
- âœ… **æ­£åˆ™è¡¨è¾¾å¼éªŒè¯**
- âœ… **è‡ªå®šä¹‰éªŒè¯å™¨**
- âœ… **æ¡ä»¶éªŒè¯**
- âœ… **æšä¸¾éªŒè¯**

---

### 3. é«˜æ€§èƒ½è®¾è®¡

**æ€§èƒ½æµ‹è¯•ç»“æœ**ï¼š

| éªŒè¯åº“ | æ€§èƒ½ (ops/s) | ç›¸å¯¹é€Ÿåº¦ |
|--------|-------------|---------|
| **schema-dsl** | **2,879,606** | **åŸºå‡† (1.00x)** |
| Zod | 1,818,592 | 0.63x (æ…¢ 58%) |
| Joi | 299,761 | 0.10x (æ…¢ 861%) |
| Yup | 106,378 | 0.04x (æ…¢ 2607%) |

**ä¼˜åŒ–æŠ€æœ¯**ï¼š
- âœ… WeakMap ç¼“å­˜æœºåˆ¶
- âœ… æ™ºèƒ½ç¼–è¯‘ä¼˜åŒ–
- âœ… æ‰¹é‡éªŒè¯ä¼˜åŒ–
- âœ… æƒ°æ€§æ±‚å€¼

---

### 4. TypeScript å®Œæ•´æ”¯æŒ

```typescript
import { dsl, validate, ValidationError } from 'schema-dsl';

// å®Œæ•´çš„ç±»å‹æ¨å¯¼
const schema = dsl({
  username: 'string:3-32!',
  email: 'email!'
});

// ç±»å‹å®‰å…¨çš„éªŒè¯
const result = validate(schema, data);

if (result.valid) {
  console.log(result.data);  // ç±»å‹æ¨å¯¼
} else {
  console.log(result.errors); // ValidationError[]
}
```

---

### 5. æ•°æ®åº“ Schema å¯¼å‡º

**ç‹¬å®¶åŠŸèƒ½ï¼šä»éªŒè¯è§„åˆ™ç›´æ¥ç”Ÿæˆæ•°æ®åº“ç»“æ„**

```javascript
const { dsl, exporters } = require('schema-dsl');

const schema = dsl({
  username: 'string:3-32!',
  email: 'email!',
  age: 'number:18-120'
});

// MongoDB Schema
const mongoExporter = new exporters.MongoDBExporter();
const mongoSchema = mongoExporter.export(schema);

// MySQL DDL
const mysqlExporter = new exporters.MySQLExporter();
const mysqlDDL = mysqlExporter.export('users', schema);

// PostgreSQL DDL
const pgExporter = new exporters.PostgreSQLExporter();
const pgDDL = pgExporter.export('users', schema);
```

---

### 6. æ¡†æ¶é›†æˆ

**Express**
```javascript
const { validateAsync, ValidationError } = require('schema-dsl');

app.post('/api/users', async (req, res, next) => {
  try {
    const validData = await validateAsync(userSchema, req.body);
    // éªŒè¯é€šè¿‡...
  } catch (error) {
    next(error);
  }
});
```

**Koa**
```javascript
app.use(async (ctx, next) => {
  try {
    ctx.validData = await validateAsync(schema, ctx.request.body);
    await next();
  } catch (error) {
    if (error instanceof ValidationError) {
      ctx.status = 400;
      ctx.body = { errors: error.errors };
    }
  }
});
```

---

### 7. æ¡ä»¶éªŒè¯

```javascript
const { dsl } = require('schema-dsl');

// å¿«é€Ÿæ–­è¨€
dsl.if(d => d.age < 18)
  .message('æœªæˆå¹´ç”¨æˆ·ä¸èƒ½æ³¨å†Œ')
  .assert(userData);

// å¤æ‚æ¡ä»¶
dsl.if(d => d.role === 'admin')
  .and(d => d.permissions.includes('delete'))
  .message('æƒé™ä¸è¶³')
  .assert(user);
```

---

### 8. Schema å¤ç”¨å·¥å…·

```javascript
const { SchemaUtils } = require('schema-dsl');

// é€‰æ‹©å­—æ®µ
const createSchema = SchemaUtils.pick(fullSchema, ['username', 'email']);

// æ’é™¤å­—æ®µ
const publicSchema = SchemaUtils.omit(fullSchema, ['password']);

// å˜ä¸ºå¯é€‰
const updateSchema = SchemaUtils.partial(createSchema);

// æ‰©å±•å­—æ®µ
const registerSchema = createSchema.extend({
  captcha: 'string:4-6!',
  agree: 'boolean!'
});
```

---

## ğŸ“š å®Œæ•´æ–‡æ¡£

### ç”¨æˆ·æŒ‡å—

- âœ… [å¿«é€Ÿå¼€å§‹](../README.md#å¿«é€Ÿå¼€å§‹)
- âœ… [DSL è¯­æ³•](../docs/dsl-syntax.md)
- âœ… [éªŒè¯æŒ‡å—](../docs/validation-guide.md)
- âœ… [ç±»å‹å‚è€ƒ](../docs/type-reference.md)

### API æ–‡æ¡£

- âœ… [dsl() API](../docs/api-reference.md)
- âœ… [validate() API](../docs/validate.md)
- âœ… [validateAsync() API](../docs/validate-async.md)
- âœ… [SchemaUtils API](../docs/schema-utils.md)

### é«˜çº§åŠŸèƒ½

- âœ… [æ¡ä»¶éªŒè¯](../docs/conditional-api.md)
- âœ… [è‡ªå®šä¹‰æ‰©å±•](../docs/custom-extensions-guide.md)
- âœ… [æ•°æ®åº“å¯¼å‡º](../docs/mongodb-exporter.md)
- âœ… [æ€§èƒ½ä¼˜åŒ–](../docs/cache-manager.md)

### æ¡†æ¶é›†æˆ

- âœ… [Express é›†æˆ](../examples/express-integration.js)
- âœ… [Koa é›†æˆ](../examples/middleware-usage.js)
- âœ… [Fastify é›†æˆ](../examples/middleware-usage.js)

---

## ğŸ“Š æµ‹è¯•è¦†ç›–

- âœ… **æµ‹è¯•å¥—ä»¶**: 800+ ä¸ªæµ‹è¯•ç”¨ä¾‹
- âœ… **æµ‹è¯•è¦†ç›–ç‡**: 95%+
- âœ… **å…¼å®¹æ€§æµ‹è¯•**: Node.js 14/16/18/20

---

## ğŸ¯ ç”Ÿäº§å°±ç»ª

### è´¨é‡ä¿è¯

- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡
- âœ… æ— å·²çŸ¥ä¸¥é‡ Bug
- âœ… æ–‡æ¡£å®Œæ•´
- âœ… API ç¨³å®š

### æ€§èƒ½éªŒè¯

- âœ… åŸºå‡†æµ‹è¯•å®Œæˆ
- âœ… æ€§èƒ½ä¼˜äºä¸»æµéªŒè¯åº“
- âœ… å†…å­˜å ç”¨åˆç†

### å®‰å…¨æ€§

- âœ… æ— å·²çŸ¥å®‰å…¨æ¼æ´
- âœ… è¾“å…¥éªŒè¯ä¸¥æ ¼
- âœ… é”™è¯¯å¤„ç†å®Œå–„

---

## ğŸ“¦ npm å‘å¸ƒ

```bash
npm install schema-dsl
```

**åŒ…ä¿¡æ¯**ï¼š
- åŒ…å: `schema-dsl`
- ç‰ˆæœ¬: `1.0.0`
- å¤§å°: ~50KB (æœªå‹ç¼©)
- è®¸å¯è¯: MIT

---

## ğŸ‰ é‡Œç¨‹ç¢‘

v1.0.0 æ ‡å¿—ç€ schema-dsl çš„ä»¥ä¸‹æˆå°±ï¼š

1. âœ… **åŠŸèƒ½å®Œæ•´**: è¦†ç›–æ‰€æœ‰å¸¸è§éªŒè¯åœºæ™¯
2. âœ… **æ€§èƒ½ä¼˜ç§€**: è¶…è¶Šä¸»æµéªŒè¯åº“
3. âœ… **æ–‡æ¡£å®Œå–„**: 40+ ç¯‡è¯¦ç»†æ–‡æ¡£
4. âœ… **æµ‹è¯•å……åˆ†**: 800+ æµ‹è¯•ç”¨ä¾‹
5. âœ… **ç”Ÿäº§å°±ç»ª**: å¯ç”¨äºç”Ÿäº§ç¯å¢ƒ

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰æµ‹è¯•ç”¨æˆ·å’Œè´¡çŒ®è€…çš„åé¦ˆï¼Œè®© schema-dsl è¾¾åˆ°äº†ç”Ÿäº§å°±ç»ªçš„è´¨é‡æ ‡å‡†ã€‚

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [GitHub Repository](https://github.com/vextjs/schema-dsl)
- [npm Package](https://www.npmjs.com/package/schema-dsl)
- [å®Œæ•´æ–‡æ¡£](../docs/INDEX.md)
- [åœ¨çº¿ä½“éªŒ](https://runkit.com/npm/schema-dsl)

---

**å‘å¸ƒè€…**: schema-dsl Team  
**å‘å¸ƒæ—¶é—´**: 2025-12-29  
**ä¸‹ä¸€ç‰ˆæœ¬**: v1.0.1

