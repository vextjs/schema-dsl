# æ€§èƒ½å¯¹æ¯”æµ‹è¯•æŒ‡å—

> **ç›®çš„**: çœŸå®žæµ‹è¯• Schema-DSL ä¸Žå…¶ä»–éªŒè¯åº“çš„æ€§èƒ½å¯¹æ¯”

---

## ðŸš€ å¿«é€Ÿæµ‹è¯•ï¼ˆä»… Schema-DSLï¼‰

```bash
cd E:/MySelf/schemaio
node test/benchmarks/simple-comparison.js
```

**å½“å‰ç»“æžœ**:
- **Schema-DSL**: 86,207 ops/sec âœ…
- å…¶ä»–åº“ï¼šæœªå®‰è£…

---

## ðŸ“¦ å®Œæ•´å¯¹æ¯”æµ‹è¯•

### æ­¥éª¤1ï¼šå®‰è£…å¯¹æ¯”åº“ï¼ˆå¯é€‰ï¼‰

```bash
# å®‰è£…æ‰€æœ‰å¯¹æ¯”åº“ï¼ˆä¸´æ—¶å¼€å‘ä¾èµ–ï¼‰
npm install --save-dev joi yup zod

# æˆ–è€…å•ç‹¬å®‰è£…
npm install --save-dev joi    # Joi éªŒè¯åº“
npm install --save-dev yup    # Yup éªŒè¯åº“
npm install --save-dev zod    # Zod éªŒè¯åº“
```

**æ³¨æ„**: Ajv å·²ç»æ˜¯ Schema-DSL çš„ä¾èµ–ï¼Œæ— éœ€é¢å¤–å®‰è£…ã€‚

---

### æ­¥éª¤2ï¼šè¿è¡Œå®Œæ•´æµ‹è¯•

```bash
node test/benchmarks/simple-comparison.js
```

---

## ðŸ“Š é¢„æœŸæµ‹è¯•ç»“æžœ

æ ¹æ®ç¤¾åŒº Benchmark å’Œæˆ‘ä»¬çš„åˆæ­¥æµ‹è¯•ï¼Œé¢„æœŸæ€§èƒ½æŽ’åï¼š

| æŽ’å | åº“å | é¢„æœŸæ€§èƒ½ | è¯´æ˜Ž |
|------|------|---------|------|
| ðŸ¥‡ | Schema-DSL | 80,000+ ops/s | åŸºäºŽ Ajv + ç¼“å­˜ä¼˜åŒ– |
| ðŸ¥ˆ | Ajv | 60,000+ ops/s | åŽŸç”Ÿ JSON Schema |
| ðŸ¥‰ | Zod | 35,000-45,000 ops/s | TypeScript ä¼˜å…ˆ |
| 4 | Joi | 18,000-25,000 ops/s | æˆç†Ÿç¨³å®š |
| 5 | Yup | 20,000-25,000 ops/s | React ç”Ÿæ€ |

**è¯´æ˜Ž**: å®žé™…æ€§èƒ½ä¼šå› æœºå™¨é…ç½®å’Œ Node.js ç‰ˆæœ¬è€Œå¼‚ã€‚

---

## ðŸ”§ Ajv æµ‹è¯•ä¿®å¤

å½“å‰ Ajv æµ‹è¯•å¤±è´¥çš„åŽŸå› æ˜¯ç¼ºå°‘ `email` æ ¼å¼éªŒè¯å™¨ã€‚ä¿®å¤æ–¹æ³•ï¼š

```javascript
// æ–¹æ³•1ï¼šä½¿ç”¨ ajv-formats
npm install --save-dev ajv-formats

const Ajv = require('ajv');
const addFormats = require('ajv-formats');
const ajv = new Ajv();
addFormats(ajv);

// æ–¹æ³•2ï¼šæ‰‹åŠ¨æ·»åŠ  email æ ¼å¼
const ajv = new Ajv();
ajv.addFormat('email', /^[^\s@]+@[^\s@]+\.[^\s@]+$/);
```

---

## ðŸ“ ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

æµ‹è¯•å®ŒæˆåŽï¼Œè„šæœ¬ä¼šè‡ªåŠ¨ç”Ÿæˆï¼š

1. **æŽ§åˆ¶å°è¾“å‡º**: å®žæ—¶æ€§èƒ½æŽ’å
2. **Markdown è¡¨æ ¼**: å¯ç›´æŽ¥å¤åˆ¶åˆ°å¯¹æ¯”æŠ¥å‘Š
3. **æ€§èƒ½ç»“è®º**: åŒ…å«å€æ•°å¯¹æ¯”

---

## ðŸŽ¯ æµ‹è¯•è¯´æ˜Ž

### æµ‹è¯•åœºæ™¯

- **æµ‹è¯•æ•°æ®**: ç”¨æˆ·æ³¨å†Œè¡¨å•ï¼ˆusername, email, age, tagsï¼‰
- **æµ‹è¯•æ¬¡æ•°**: 10,000 æ¬¡è¿­ä»£
- **æµ‹è¯•æ–¹æ³•**: åŒæ­¥éªŒè¯ï¼ˆéžå¼‚æ­¥ï¼‰

### æµ‹è¯•å…¬å¹³æ€§

- âœ… æ‰€æœ‰åº“ä½¿ç”¨ç›¸åŒçš„æµ‹è¯•æ•°æ®
- âœ… æ‰€æœ‰åº“ä½¿ç”¨ç›¸åŒçš„éªŒè¯è§„åˆ™
- âœ… é¢„çƒ­ 100 æ¬¡åŽå†æ­£å¼æµ‹è¯•
- âœ… æµ‹è¯•çŽ¯å¢ƒç›¸åŒï¼ˆNode.js v20.19.4ï¼‰

---

## ðŸ“Œ æ³¨æ„äº‹é¡¹

1. **ä¸´æ—¶ä¾èµ–**: æµ‹è¯•åº“ä»…ç”¨äºŽæ€§èƒ½å¯¹æ¯”ï¼Œä¸ä¼šæ·»åŠ åˆ° `dependencies`
2. **æµ‹è¯•æ—¶é—´**: å®Œæ•´æµ‹è¯•çº¦éœ€ 30-60 ç§’
3. **æœºå™¨å·®å¼‚**: ä¸åŒæœºå™¨çš„ç»å¯¹æ€§èƒ½å€¼ä¼šæœ‰å·®å¼‚ï¼Œä½†ç›¸å¯¹æŽ’ååº”è¯¥ä¸€è‡´
4. **ç¼“å­˜å½±å“**: Schema-DSL çš„ç¼“å­˜ä¼˜åŒ–åœ¨å¤šæ¬¡è¿è¡Œæ—¶æ•ˆæžœæ›´æ˜Žæ˜¾

---

## ðŸ”„ æ›´æ–°å¯¹æ¯”æŠ¥å‘Š

æµ‹è¯•å®ŒæˆåŽï¼Œä½¿ç”¨å®žæµ‹æ•°æ®æ›´æ–°å¯¹æ¯”æŠ¥å‘Šï¼š

```bash
# å°†æµ‹è¯•ç»“æžœå¤åˆ¶åˆ°å‰ªè´´æ¿
node test/benchmarks/simple-comparison.js > benchmark-results.txt

# æ‰‹åŠ¨æ›´æ–°æŠ¥å‘Šæ–‡ä»¶
# reports/schemaio/comparison/detailed-comparison-v2.3.0.md
```

---

**åˆ›å»ºæ—¥æœŸ**: 2025-12-29  
**æµ‹è¯•è„šæœ¬**: `test/benchmarks/simple-comparison.js`

